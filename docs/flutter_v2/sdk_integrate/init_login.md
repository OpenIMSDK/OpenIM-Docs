## 初始化及登录

初始化并登录成功回调，是正常使用OpenIM 服务的前提

| SDK              | 描述                                                         |
| :--------------- | :----------------------------------------------------------- |
| [Login]          | 登录，如果登录成功，必须退出登录才能再次执行登录操作         |
| [Logout]         | 退出登录                                                     |
| [GetLoginStatus] | 获取登录状态， 101：登录成功，   102：登陆中，   103：登录失败，  201：退出登录 |
| [GetLoginUser]   | 获取当前登录用户UserID，此时用户登录状态未知                 |
| [initSDK]        | 初始化 SDK，整个生命周期执行一次，登录相关监听介绍如下：     |

OpenIM和调用方利用监听回调机制，和调用方信息互通，把登录状态通过异步回调方式即时传递给调用方，确保信息及时传达而不阻塞其主线程。

## 监听说明

| 登录相关监听         | 回调描述                                                     |
| :------------------- | :----------------------------------------------------------- |
| [OnConnecting]       | 连接中，在连接后台时（包括重连）回调                         |
| [OnConnectSuccess]   | 连接成功                                                     |
| [OnConnectFailed]    | 连接失败，如果因网络连接失败会重连，其他情况不重连           |
| [OnKickedOffline]    | 被踢下线，可能由于多端登录策略所致，或后台管理员强制其退出登录 |
| [OnUserTokenExpired] | 检测token过期回调                                            |

## 调用流程

OpenIM调用流程分为如下几步：

（1）初始化：在整个生命周期执行一次

（2）设置监听：包括群组监听，好友监听，用户监听，消息及会话监听，这些监听会在其他章节中描述

（3）登录：登录回调成功后再执行其他操作，否则可能出现资源加载未完成的错误

（4）收发消息等操作；

